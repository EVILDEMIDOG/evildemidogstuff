<!DOCTYPE html>
    <head>
    </head>
    <body style="position: absolute;margin: 0 auto;width: 100%;height: 100%;background-color: black;">
    </body>
    <script type="module">
        import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/build/three.module.js';
        import {OBJLoader} from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/examples/jsm/loaders/OBJLoader.js';
        import {MTLLoader} from 'https://threejsfundamentals.org/threejs/resources/threejs/r115/examples/jsm/loaders/MTLLoader.js';

            var loader = new OBJLoader();
            var materialLoader = new MTLLoader();
            var scene = new THREE.Scene();
            var time = 0;

        materialLoader.load('https://drive.google.com/u/0/uc?id=1Z2jz_H9zzG7Kgy0oZMisKInBiU7eVIyA&export=download', function(materials){

            materials.preload();

            loader.setMaterials(materials);

            loader.load('https://drive.google.com/u/0/uc?id=1U3c7ATqFbocZYnIKF5FR4ZDziHpDYfGT&export=download', function (object){

                    scene.add(object);

                    console.log(object);

                    //object.getObjectByName("orbit").position.applyAxisAngle(new THREE.Vector3( 10, 50, 50 ),150);

                    object.getObjectByName("planet").castShadow = true;
                    object.getObjectByName("planet").receiveShadow = true;

                    //object.getObjectByName("orbit").position.set( 0, 0, 0 );
                    //object.getObjectByName("orbit").rotation.set( 0.5, 0, 0 );

                    object.getObjectByName("planet").position.set( 0, 0, 0 );
                    object.getObjectByName("planet").material.transparent = true;
                    object.getObjectByName("planet").material.opacity = 0.5;
                    //object.getObjectByName("satellite").position.set( -200, 0, 0 );

                    object.computeVertexNormals;



                    function animate() {
                        requestAnimationFrame(animate);
                        //object.rotation.z = 0.1;
                        object.getObjectByName("planet").rotation.y += 0.01;
                        time += 0.01;
                        object.getObjectByName("satellite").position.x = Math.sin(time)* 120;
                        object.getObjectByName("satellite").position.y = Math.sin(3+time)* 60;
                        object.getObjectByName("satellite").position.z = Math.cos(time)* 120;
                        object.getObjectByName("satellite").rotation.x += 0.01;
                        object.getObjectByName("satellite").rotation.y += 0.01;
                        renderer.render( scene, camera );





                    }
                    animate();


                },
                function ( xhr ) {
                    console.log( ( xhr.loaded / xhr.total * 100 )+'% loaded');
                },
                function ( error ) {
                    console.log( 'An error happened' );
                }
            );

        });

        const light = new THREE.DirectionalLight(0xffffff, 1.5, 100);

        light.position.set( 100, 200, 300 );
        light.castShadow = true;

        scene.add(light);

        scene.background = new THREE.Color(0x181949);

        var camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 0.1, 1000 );

        var renderer = new THREE.WebGLRenderer();
        renderer.setSize( window.innerWidth, window.innerHeight );
        document.body.appendChild( renderer.domElement );

        camera.position.z = 200;
        camera.position.y = 100;
        camera.lookAt(0,0,0);

        function resizeFunc() {
            renderer.setSize(window.innerWidth, window.innerHeight);
            let canvas = renderer.domElement;
            camera.aspect = canvas.clientWidth / canvas.clientHeight;
            camera.updateProjectionMatrix();
        }
        window.addEventListener('resize', resizeFunc);

    </script>
</html>
